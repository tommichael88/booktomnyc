<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <meta name="HandheldFriendly" content="true">
    <title>BookTOM</title>
    <meta name="description" content="">
    <meta property="og:title" content="Tom Kongerslev">
    <meta property="og:type" content="website">
    <meta property="og:description" content="BookTom ">
    <meta property="og:image" content="https://github.com/tommichael88/booktomnyc/blob/main/images/invoicelogo_tomkongerslev_nobg__.png?raw=true">
    <link rel="icon" href="https://github.com/tommichael88/booktomnyc/blob/main/images/___test.png?raw=true" type="image/x-icon">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap">
    <link rel="stylesheet" href="https://tommichael88.github.io/booktomnyc/External/style.css">
    <link rel="stylesheet" href="https://tommichael88.github.io/booktomnyc/page_template/digitalbusinesscard.css">
    <link rel="stylesheet" href="https://tommichael88.github.io/booktomnyc/External/lightbox.css">
    <!-- Include base CSS (optional) -->
    <link rel="stylesheet" href="https://tommichael88.github.io/booktomnyc/scripts/base.min.css">
    <!-- Include Choices CSS -->
    <link rel="stylesheet" href="https://tommichael88.github.io/booktomnyc/scripts/choices.min.css">
    <!-- Include Choices JavaScript -->

    <script>
        < script src = "https://tommichael88.github.io/booktomnyc/scripts/choices.min.js" >
    </script>

    <script type="text/javascript">
        window.hasMobileFirstExtension = true;
    </script>

    <script>
        (function() {
            const originalTitle = document.title;
            const messageOne = "Tom's üß∞ HandyTech";
            const messageTwo = "üìêBookTOM.NYCü™ö";
            // Array of messages to randomly pick from
            const messages = [
                "üñºWallüß±Mounting",
                "Minor üè† Repairs",
                "üöø Plumbing ü™£",
                "üîå Electrical üí°",
                "üíª Repairs",
                "ü™ë Fixes"
            ];
            let currentTitleIndex = 0; // Start with index 0
            let interval;

            function toggleTitle() {
                currentTitleIndex = (currentTitleIndex + 1) % 3; // Cycle through 0, 1, 2
                if (currentTitleIndex === 0) {
                    document.title = messageOne;
                } else if (currentTitleIndex === 1) {
                    document.title = messageTwo;
                } else { // messageThree logic
                    const randomIndex = Math.floor(Math.random() * messages.length);
                    document.title = messages[randomIndex];
                }
            }
            document.addEventListener("visibilitychange", function() {
                if (document.hidden) {
                    // Immediately toggle once and then start interval
                    toggleTitle();
                    interval = setInterval(toggleTitle, 2000); // Adjust time as needed
                } else {
                    clearInterval(interval); // Clear the interval when tab is active again
                    document.title = originalTitle; // Restore original title
                }
            });
        })();
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const serviceCheckboxes = document.querySelectorAll('.custom-checkbox input[type="checkbox"]');
            const suggestionsContainer = document.getElementById('suggestionsContainer');
            // Add event listeners to checkboxes
            serviceCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateCheckedCategories(this); // Pass the checkbox element to the function
                });
            });

            const taskDescription = document.getElementById('taskDescription');
            const submitButton = document.getElementById('submitButton');
            const chevron = document.getElementById('chevronArrow');
            const bookingDetails = document.getElementById('bookingDetails');
            let selectedServices = [];
            let checkedCategories = []; // Array to keep track of checked categories in order
            const categoryToServices = {
                "service1": ["Appliances Hourly Service Rate", "Door Handles & Locks Installation", "Furniture Repair Hourly Service Rate", "Hollow Door Repair", "Wall Repair - Patch & Paint"],
                "service3": ["Frame/Shelf Mounting Hourly Service Rate", "TV Mounting (Under 60\") + Concealed Cables", "TV Mounting (Under 60\") without cable management", "Curtains/Drapes w. Single Rod Installation"],
                "service6": ["Data Transfer / Data Back-Up", "Part Replacement/Upgrade", "PC Diagnostic Service", "Software Install/Update/Removal (4)", "System Restore", "Virus/Malware Removal"],
                "service4": ["Light Fixture Swap"],
                "service2": ["Furniture Assembly Hourly Service Rate", "Furniture Repair Hourly Service Rate"],
                "service5": ["Bidet Accessory Install/Removal", "Fixture Swap (Cosmetic)", "Leak Under Sink Repair", "Unclog Sink/Shower/Toilet (Minor)"]
            };
            const targetedSuggestions = {
                "Appliances Hourly Service Rate": ["Refrigerator Repair", "Washing Machine Repair", "Dryer Repair", "Dishwasher Repair", "Oven Repair", "Stove Repair", "Microwave Repair", "Garbage Disposal Repair", "Freezer Repair",
                    "Ice Maker Repair", "Range Hood Repair", "Wine Cooler Repair", "Trash Compactor Repair"
                ],
                "Door Handles & Locks Installation": ["Electronic Lock Installation", "Deadbolt Replacement", "Knob Handle Installation", "Ring or Blink Doorbell Install", "Smart Lock Installation", "Keyless Entry System Setup", "Rekeying Locks", "Door Handle Repair", "Security Door Installation", "Key Duplication Service", "Peephole Installation", "Door Reinforcement Installation", "Lock Maintenance Service", "Emergency Lockout Assistance"],
                "Wall Repair - Patch & Paint": ["Small hole (e.g., nail or screw)", "Large hole (e.g., fist-sized)", "Crack Repair", "Textured Wall Patching", "Drywall Replacement"],
                "TV Mounting (Under 60\") + Concealed Cables": ["TV Size Under 20 inches", "TV Size 32 inches", "TV Size 42 inches", "TV Size 50 inches", "TV Size 50+ inches", "Soundbar Installation", "Cable Management Solutions", "Remote Control Setup"],
                "Leak Under Sink Repair": ["Pipe Replacement", "Sealant Application", "Faucet Repair", "Sink Drain Replacement", "Under-Sink Filter Installation"],
                "Virus/Malware Removal": ["Slow Performance Cleanup", "Pop-up Ad Removal", "Security Software Installation", "Data Backup and Recovery", "Firewall Configuration"],
                "Frame/Shelf Mounting Hourly Service Rate": ["Picture Frame Mounting", "Floating Shelf Installation", "Bookshelf Mounting", "Mirror Hanging", "Artwork Installation"],
                "Light Fixture Swap": ["Ceiling Light Fixture Replacement", "Wall Sconce Installation", "Chandelier Installation", "Recessed Lighting Installation", "Track Lighting Installation"],
                "Bidet Accessory Install/Removal": ["Bidet Seat Installation", "Bidet Attachment Installation", "Bidet Seat Removal", "Water Pressure Adjustment", "Temperature Control Setup"],
                "Fixture Swap (Cosmetic)": ["Faucet Replacement", "Light Switch Replacement", "Showerhead Replacement", "Toilet Seat Replacement", "Towel Rack Installation"],
                "Unclog Sink/Shower/Toilet (Minor)": ["Sink Unclogging", "Shower Drain Unclogging", "Toilet Unclogging", "Plunger and Auger Service", "Drain Cleaning Solution Application"],
                "Data Transfer / Data Back-Up": ["Data Transfer to New Device", "Data Backup on External Drive", "Cloud Backup Setup", "Data Encryption Service", "Scheduled Backup Configuration"],
                "Part Replacement/Upgrade": ["RAM Upgrade", "Hard Drive Replacement", "Graphics Card Installation", "CPU Cooling System Installation", "Motherboard Replacement"],
                "PC Diagnostic Service": ["Performance Check", "Hardware Diagnostic", "Software Diagnostic", "Temperature Monitoring Service", "Network Connectivity Test"],
                "Software Install/Update/Removal (4)": ["Operating System Update", "Application Installation", "Software Uninstallation", "Driver Update Service", "Registry Cleanup"],
                "System Restore": ["Operating System Rollback", "Data Recovery", "System Backup Restoration", "Factory Reset Service", "Boot Repair"],
                "Furniture Assembly Hourly Service Rate": ["IKEA", "NOT IKEA", "Office Furniture Assembly", "Outdoor Furniture Assembly", "Custom Furniture Assembly"]
            };
            const dropdownOptionsForFurnitureAssembly = {
                "Furniture Assembly Hourly Service Rate": ["Shoe rack", "Side table", "Lamp table", "Laundry hamper", "Footstool", "Dining table (extendable)", "Coffee table", "TV stand", "Console table", "Desk (small/medium)", "Desk (large)", "Bookcase (small/medium)", "Bookcase (large)", "Chest of drawers (small/medium)", "Chest of drawers (large 6+ Drawers)", "Wardrobe (small/medium)", "Wardrobe (large)", "Bed frame", "Sofa bed", "Kitchen cabinets", "OTHER/NOT LISTED"]
            };



            function appendServiceToTextInput(service) {
                if (!taskDescription.value.includes(service)) {
                    taskDescription.value += (taskDescription.value ? "; " : "") + service;
                    updateTextInputAppearance();
                }
            }

            function toggleBookingDetails(show) {
                bookingDetails.style.display = show ? 'block' : 'none';
                chevron.style.transform = show ? 'rotate(90deg)' : 'rotate(-90deg)';
            }

            function isAnyCategoryChecked() {
                return checkedCategories.length > 0;
            }

            function updateTextInputAppearance() {
                taskDescription.style.borderColor = taskDescription.value.trim() !== '' ? 'red' : '';
                submitButton.style.display = taskDescription.value.trim() !== '' ? 'block' : 'none';
            }

            function updateTextInput() {
                taskDescription.value = selectedServices.join('; ');
                updateTextInputAppearance();
            }

            function showSuggestions(specificService = '') {
                suggestionsContainer.innerHTML = '';
                let servicesToShow = [];

                if (specificService && targetedSuggestions[specificService]) {
                    servicesToShow = targetedSuggestions[specificService];
                } else {
                    checkedCategories.slice().reverse().forEach(categoryId => {
                        if (categoryToServices[categoryId]) {
                            servicesToShow = servicesToShow.concat(categoryToServices[categoryId]);
                        }
                    });
                }

                servicesToShow.forEach(service => {
                    const button = createSuggestionButton(service, specificService);
                    suggestionsContainer.appendChild(button);
                });

                // Clear the text input box if no categories are checked
                if (!isAnyCategoryChecked() && specificService === '') {
                    taskDescription.value = '';
                }

                toggleBookingDetails(isAnyCategoryChecked() || specificService);
            }

            function createSuggestionButton(service, specificService) {
                const button = document.createElement('button');
                button.textContent = service;
                button.className = 'suggestion-btn';
                button.setAttribute('data-service', service);
                button.onclick = () => {
                    if (dropdownOptionsForFurnitureAssembly[service]) {
                        showDropdown(service);
                    } else {
                        appendServiceToTextInput(service);
                        if (!specificService || specificService && targetedSuggestions[service]) {
                            showSuggestions(service);
                        } else {
                            showSuggestions();
                        }
                    }
                };
                return button;
            }

            function updateCheckedCategories(checkbox) {
                const index = checkedCategories.indexOf(checkbox.id);
                if (checkbox.checked && index === -1) {
                    checkedCategories.push(checkbox.id);
                    const associatedServices = getAllAssociatedServices(checkbox.id);
                    selectedServices.push(...associatedServices);
                } else if (!checkbox.checked && index !== -1) {
                    checkedCategories.splice(index, 1);
                    const associatedServices = getAllAssociatedServices(checkbox.id);
                    associatedServices.forEach(service => {
                        removeServiceFromTextInput(service); // Remove associated services when category is unchecked
                        const serviceIndex = selectedServices.indexOf(service);
                        if (serviceIndex !== -1) {
                            selectedServices.splice(serviceIndex, 1);
                        }
                    });
                }
            }

            function showDropdown(service) {
                let existingDropdown = document.getElementById('dropdownContainer');
                if (existingDropdown) {
                    existingDropdown.remove();
                }
                let dropdownContainer = document.createElement('div');
                dropdownContainer.id = 'dropdownContainer';
                dropdownContainer.className = 'dropdown-container';
                let dropdownLabel = document.createElement('label');
                dropdownLabel.textContent = 'Select Furniture Type:';
                dropdownLabel.className = 'dropdown-label';
                dropdownContainer.appendChild(dropdownLabel);
                let dropdown = document.createElement('select');
                dropdown.id = 'dynamicDropdown';
                dropdown.className = 'dynamic-dropdown';
                dropdownContainer.appendChild(dropdown);
                let defaultOption = document.createElement('option');
                defaultOption.textContent = "Select an option";
                defaultOption.disabled = true;
                defaultOption.selected = true;
                dropdown.appendChild(defaultOption);
                let options = dropdownOptionsForFurnitureAssembly[service];
                options.forEach(option => {
                    let optionElement = document.createElement('option');
                    optionElement.textContent = option;
                    optionElement.value = option;
                    dropdown.appendChild(optionElement);
                });
                dropdown.addEventListener('change', function() {
                    if (this.value) {
                        taskDescription.value += (taskDescription.value ? "; " : "") + this.value;
                        dropdownContainer.remove();
                    }
                });
                taskDescription.before(dropdownContainer);
            }
            serviceCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    updateCheckedCategories(checkbox);
                    showSuggestions();
                    updateTextInputAppearance();
                });
            });
            const furnitureSelect = document.getElementById('furniture-select');
            const furnitureOptions = [{
                category: "BEKANT",
                items: ["Desk with underframe"]
            }, {
                category: "BESTA",
                items: ["Single frame, shelves, floor standing", "Single frame, door / drawer, floor standing", "Single frame, wall mounting"]
            }, {
                category: "BILLY",
                items: ["Bookcase one frame"]
            }, {
                category: "BJURSTA",
                items: ["Extendable table"]
            }, {
                category: "BRIMNES",
                items: ["Bed frame", "2 drawer chest", "3 drawer chest", "4 drawer chest", "Bed frame with storage", "Headboard", "Wardrobe with 2 doors", "Wardrobe with 3 doors", "Nightstand", "Daybed with 2 drawers"]
            }, {
                category: "BRUSALI",
                items: ["Bed frame", "Bed with 4 storage boxes", "3 drawer chest", "Nightstand"]
            }, {
                category: "FINGAL",
                items: ["Swivel chair"]
            }, {
                category: "FRIHETEN",
                items: ["Sofa bed with chaise"]
            }, {
                category: "GALANT",
                items: ["2 drawer unit", "3 drawer unit", "4 drawer unit", "Cabinet with sliding doors"]
            }, {
                category: "HEMNES",
                items: ["Bed frame", "2 drawer chest", "3 drawer chest", "6 drawer chest", "8 drawer dresser", "Nightstand", "Daybed with 3 drawers"]
            }, {
                category: "KALLAX",
                items: ["Shelving unit 5x5", "Shelving unit 4x4", "Shelving unit 2x4", "Shelving unit 1x4", "Shelving unit 2x2", "Insert with 2 drawers", "Insert with door"]
            }, {
                category: "LACK",
                items: ["Side table", "Coffe table", "TV Unit"]
            }, {
                category: "LINNMON ADILS",
                items: ["Table (table top and four legs)"]
            }, {
                category: "MALM",
                items: ["Bed Frame", "Bed Frame with 4 Storage boxes", "2 Drawer Chest", "3 Drawer Chest", "4 Drawer Chest", "6 Drawer Chest", "6 Drawer Dresser", "Lift bed"]
            }, {
                category: "MICKE",
                items: ["Desk with 1 Drawer", "Desk with Drawers & Storage", "Add-on unit"]
            }, {
                category: "MORVIK",
                items: ["Wardrobe"]
            }, {
                category: "PAX",
                items: ["One frame, hinged doors, up to 3 addons", "Two frames, sliding doors, up to 5 addons"]
            }, {
                category: "SODERHAMN",
                items: ["Sofa one seat section with cover"]
            }, {
                category: "TRYSIL",
                items: ["Bed Frame", "3 Drawer Chest", "Nightstand", "Wardrobe"]
            }, {
                category: "OTHER NOT LISTED",
                items: ["NOT LISTED or UNKNOWN"]
            }];

            function populateFurnitureSelect() {
                furnitureOptions.forEach(option => {
                    let optgroup = document.createElement('optgroup');
                    optgroup.label = option.category;
                    option.items.forEach(item => {
                        let optionElement = document.createElement('option');
                        optionElement.textContent = item;
                        optionElement.value = item;
                        optgroup.appendChild(optionElement);
                    });
                    furnitureSelect.appendChild(optgroup);
                });
            }
            populateFurnitureSelect();
            const addFurnitureButton = document.getElementById('addFurnitureButton');
            const selectedFurnitureList = document.getElementById('selectedFurnitureList');
            addFurnitureButton.addEventListener('click', () => {
                const selectedOption = furnitureSelect.options[furnitureSelect.selectedIndex];
                if (selectedOption) {
                    const selectedItem = selectedOption.textContent;
                    if (!selectedFurnitureList.textContent.includes(selectedItem)) {
                        const listItem = document.createElement('li');
                        listItem.textContent = selectedItem;
                        selectedFurnitureList.appendChild(listItem);
                        taskDescription.value += (taskDescription.value ? "; " : "") + selectedItem;
                        updateTextInputAppearance();
                    }
                }
            });
            const removeAllFurnitureButton = document.getElementById('removeAllFurnitureButton');
            removeAllFurnitureButton.addEventListener('click', () => {
                selectedFurnitureList.innerHTML = '';
                taskDescription.value = taskDescription.value.replace(/(Desk with underframe|Single frame, shelves, floor standing|Single frame, door \/ drawer, floor standing|Single frame, wall mounting|Bookcase one frame|Extendable table|Bed frame|2 drawer chest|3 drawer chest|4 drawer chest|Bed frame with storage|Headboard|Wardrobe with 2 doors|Wardrobe with 3 doors|Nightstand|Daybed with 2 drawers);?/g, '');
                updateTextInputAppearance();
            });
            const removeAllServicesButton = document.getElementById('removeAllServicesButton');
            removeAllServicesButton.addEventListener('click', () => {
                taskDescription.value = '';
                selectedFurnitureList.innerHTML = '';
                checkedCategories = [];
                serviceCheckboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
                updateTextInputAppearance();
                showSuggestions();
                toggleBookingDetails(false);
            });
            const chevronContainer = document.getElementById('chevronContainer');
            chevronContainer.addEventListener('click', () => {
                toggleBookingDetails(bookingDetails.style.display === 'none');
            });

            function copyTaskDescription() {
                const el = document.createElement('textarea');
                el.value = taskDescription.value;
                document.body.appendChild(el);
                el.select();
                document.execCommand('copy');
                document.body.removeChild(el);
                alert('Copied to clipboard!');
            }
            const copyButton = document.getElementById('copyButton');
            copyButton.addEventListener('click', copyTaskDescription);
        });
    </script>

    <style>
        :root {
            --primary-color: silver;
            --background-color: #f8f9fa;
            --text-color: #454545;
            --font-family: 'Roboto', sans-serif;
            --border-radius: .3rem;
            --box-shadow: 4px 10px 10px rgba(1, 8, 9, 0.5);
            --spacing-small: 8px;
            --font-size-small: 8px;
            --font-size-large: 14px;
        }

        body {
            margin: 5px;
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-color);
        }

        .page-container {
            width: 100%;
            max-width: 768px;
            /* Example max width */
        }

        #qrc-heading {
            font-size: 3vw;
            text-align: center;
            text-decoration: bold;
        }

        .qrc_page_wrapper {
            background-size: cover;
            /* background-repeat: no-repeat; */
            /* background-repeat: no-repeat; */
            background-position: inherit;
            /* background-position: center center; */
            background-color: var(--qrc-secondary);
            max-width: 1000%;
            /* min-height: 50vh; max-height: 100vh; */
            padding: 0;
            padding-top: 0.0px;
            padding-bottom: 0.1px;
            overflow: auto;
            position: relative;
            height: 100vh;
        }

        .qrc_card_shadow {
            box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        }

        .btn-primary,
        .buttonText,
        .button-text,
        .qrc_button,
        .submitButton.qrc_button,
        #submitButton.qrc_button,
        #clientPortal,
        #bookHereButton,
        #qrc_button {
            background-color: #de0000;
            opacity: 100%;
            color: solid white;
            padding: 2px;
            text-align: center;
            text-decoration: bold;
            display: inline-block;
            font-size: var(--font-size-large);
            margin: var(--spacing-small);
            cursor: pointer;
            border-radius: 2px;
            border-color: #de0000;
        }

        /* Styling for navigation, footer, and base elements */

        .navbar,
        .footer {
            padding: 10px;
            background-color: var(--primary-color);
            color: white;
        }

        .highlight-box {
            margin: 1px;
            padding: 2px;
            max-width: 600px;
            background-color: /* #de0000; */
            rgba(22, 20, 20, .55);
            opacity: 100%;
            color: white;
            display: inline-block;
            border-radius: 8px;
            box-shadow: red;
        }

        .highlight-text {
            font-size: var(--font-size-large);
            color: white;
        }

        .qrc_heading {
            align-items: center;
            justify-content: center;
            display: inline-blocka;
        }

        .container {
            max-width: 600px;
            margin: 2px auto;
            padding: 2px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: none;
        }

        .schedule-service-box {
            margin: 5px auto;
            padding: 5px;
            max-width: 600px;
            /* Adjust based on your layout */
            background-color: #ffffff;
            /* Light background color */
            border: 2px solid #ccc;
            /* Grey border */
            border-radius: 5px;
            /* Utilize existing root variable for border-radius */
            box-shadow: var(--box-shadow);
            /* Utilize existing root variable for box-shadow */
            color: var(--text-color);
            /* Utilize existing root variable for text color */
        }

        .visit-box {
            color: black;
            display: inline-block;
            /* Makes the div wrap around the content */
            padding: 4px 4px;
            /* Adjust padding to your preference */
            border: 2px solid #ccc;
            /* Light grey border */
            border-radius: 5px;
            /* Rounded corners */
            /* Light background color */
            font-size: 10px;
            /* Adjusted font size; you can change it as needed */
            margin: 5px;
            /* Adds some space around the box */
            background-color: #CCC;
        }

        .manageBookingBtn {
            text-decoration: none;
            /* Removes underline from link */
            /* Sets the text color; change as needed */
            font-weight: 700;
            /* Makes the text bold */
        }

        /* Custom checkbox styles */

        .custom-checkbox input[type="checkbox"] {
            display: none;
            /* Hide the default checkbox */
        }

        .custom-checkbox .checkmark {
            position: relative;
            display: inline-block;
            width: 20px;
            height: 20px;
            background-color: #fff;
            border: 2px solid #CCC;
            cursor: pointer;
        }

        /* When the checkbox is checked, change background and border color */

        .custom-checkbox input[type="checkbox"]:checked+.checkmark {
            background-color: #de0000;
            border-color: #de0000;
            opacity: 85%;
        }

        /* White checkmark */

        .custom-checkbox .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .custom-checkbox input[type="checkbox"]:checked+.checkmark:after {
            display: block;
        }

        .custom-checkbox .checkmark:after {
            left: 6px;
            top: 2px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 3px 3px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        /* Style for label when checkbox is checked */

        .custom-checkbox input[type="checkbox"]:checked+label {
            text-decoration: underline;
            text-decoration-color: red;
            opacity: 90%;
        }

        .suggestionsContainer {
            margin-top: 30px;
            display: flex;
            flex-direction: flex;
            /* Stack items vertically */
            flex-wrap: column;
            /* Optional: Allow wrapping for narrow widths */
        }

        /* Styles for the dropdown container and label */

        .dropdown-container {
            margin-top: 15px;
            /* Spacing above the dropdown */
            padding: 5px;
            /* Padding around the label and dropdown */
            background-color: #f9f9f9;
            /* Light background for the dropdown area */
            border-radius: 5px;
            /* Rounded corners for the container */
            display: flex;
            /* Use flex layout */
            align-items: center;
            /* Center items vertically */
            justify-content: start;
            /* Align items to the start of the container */
        }

        .dropdown-label {
            margin-right: 10px;
            /* Spacing between label and dropdown */
            font-weight: 700;
            /* Make label text bold */
        }

        .zoom-btn {
            font-size: 16px;
            padding: 10px 10px;
            background-color: transparent;
            opacity 40%;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            position: relative;
            /* Position it at the bottom right corner */
            bottom: 20px;
            right: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .zoom-btn:hover {
            background-color: #0056b3;
        }

        .zoom-btn:focus {
            outline: none;
        }

        /* The Modal (background) */

        .modal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            overflow: auto;
            /* Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.6);
            /* Black w/ opacity */
        }

        /* Modal Content/Box */

        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            /* 15% from the top and centered */
            padding: 20px;
            border: 1px rgba(163, 0, 0, 0.9);
            width: 80%;
            /* Could be more or less, depending on screen size */
        }

        /* The Close Button */

        .close {
            float: right;
            max-width: 2rem;
            opacity: 45%;
            background-color: transparent;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            opacity: 100%;
            background-color: transparent;
            border-radius: 5px;
        }

        .input-box {
            width: 100%;
            padding: 4px;
            border: 2px solid red;
            border-radius: 5px;
            margin-bottom: 5px;
            box-sizing: border-box;
            color: #454545;
            box-shadow: var(--box-shadow);
        }

        .input-box::placeholder {
            color: grey;
            text-decoration: bold;
        }

        .invoice-box {
            margin: 6px auto;
            padding: 6px;
            max-width: 600px;
            /* Adjust based on your layout */
            background-color: #FFFFFF;
            /* Light background color */
            border: 2px solid #ccc;
            /* Grey border */
            border-radius: var(--border-radius);
            /* Utilize existing root variable for border-radius */
            box-shadow: var(--box-shadow);
            /* Utilize existing root variable for box-shadow */
            color: var(--text-color);
            /* Utilize existing root variable for text color */
        }

        .dropdown-container {
            background-color: #454545;
            color: white;
            display: flex;
        }

        .label1 {
            display: block;
            margin-bottom: 15px;
            color: white;
            background-color: #454545;
        }

        @media (max-width: 768px) {
            .container,
            .navbar,
            .footer,
            text-decoration: none;
            margin: 8px;
            margin-bottom: 8px;
            padding: 4px;
        }

        }

        .small-font {
            font-size: var(--font-size-small);
            color: gray;
        }

        /* Chevron initial state */

        .chevron {
            color: rgba(163, 0, 0, 0.9);
            transform: rotate(-90deg);
            /* Left facing */
        }

        /* Floating Action Button (FAB) */

        .fab-container {
            position: fixed;
            top: 10px;
            right: 20px;
            z-index: 9999;
        }

        .fab {
            opacity: 45%;
            background-color: transparent;
            border: none;
            outline: none;
            cursor: pointer;
        }

        .fab img {
            width: 50px;
            height: 50px;
        }

        .fab:hover {
            opacity: 100%;
            background-color: transparent;
            border-radius: 5px;
        }

        .rotate {
            transform: rotate(180deg);
            transition: transform 0.3s ease;
        }

        #bookHereButton {
            display: inline-block;
        }
    </style>

</head>

<body>
    <div class="fab-container"> <button id="fabButton" class="fab">
      <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/816154118kjhv-removebg-preview.png?raw=true" alt="FAB Icon">
    </button> </div>
    <div class="qrc_page_wrapper thinScrollBar">
        <div class="pg_background" style="background-image: url('https://github.com/tommichael88/booktomnyc/blob/main/images/background_16.jpeg?raw=true');"></div>
        <div class="qrc_page_inner">
            <div class="section qrc_gallery">
                <div class="qrc_gallery_wrapper">
                    <ul class="qrc_gallery_list">
                        <li>
                            <img class="img-fluid" style="pointer-events: none;" src="https://github.com/tommichael88/booktomnyc/blob/main/images/invoicelogo_tomkongerslev_nobg__.png?raw=true">
                            <div style="text-align: center; font-size: 2vw; padding: 1px;">
                                <div class="highlight-box" style="display: flex; align-items: center; justify-content: center; padding: 4px;">
                                    <div style="flex: 1;">
                                        <div style="font-size: 2vw; padding: 2px; display: flex; align-items: center; justify-content: center;">
                                            <div>
                                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/tom_handy_new.png?raw=true" alt="Toms Handy logo" style="max-width: 2.5rem; height: auto;">
                                            </div>
                                            <span>
                        <div class="highlight-text" style="font-size: 1.4rem; padding: 2px; display: flex; align-items: center; justify-content: center;">
                          &nbsp;Tom Kongerslev</div>
                      </span>
                                        </div>
                                    </div> <span>
                    <div style="flex; display: flex; align-text: middle; align-items: center;">
                      <div style="font-size: 8px" ;="">
                        <div>
                          <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/contact_card_rolodex_wb-removebg-preview.png?raw=true" style="max-width: 1.75rem; height: auto;" alt="Contact card rolodex icon">
                          <div>
                            Save <b>ùóñùóºùóªùòÅùóÆùó∞ùòÅ</b>
                          </div>
                        </div>
                        <span style="vertical-align: middle;">
                          <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2px;">
                            <div style="font-size: 12px;">
                              <img src="https://tommichael88.github.io/booktomnyc/images/ios-png-4078.png" style="max-width: .75rem;">‚Å±·¥æ ∞·µí‚Åø·µâ | ·¥¨‚Åø·µà ≥·µí‚Å±·µà<img src="https://tommichael88.github.io/booktomnyc/images/android_icon_lightgray.png" style="max-width: .75rem;">
                              <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2px;"></div>
                            </div>
                          </div>
                        </span>
                                </div>
                                <a rel="nofollow noopener noreferrer" href="https://mjh3pg.by.files.1drv.com/y4mwO8MlkNkyLNVz5A2Ro3l4qmR4JLGQ1tnVTkyNFSDv6RgmAWrTy7jdaufKK6Aavc_33M8UoeVmsz4wWo-uJhx_S5P0UjpdCIMmd_Yc4s1y-ioeRKh2Tzf_oAYtlgGE8sC9ZwpSaALPmQ1hQdhRxAdEYuvBi8fQKdyfkyiKJnMaxpMZQ70es24XyCjHmLZOEy6ElW4JzMIIF9-q92IR1YJQA"
                                    target="_blank">
                        <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/white_plus_icon.png?raw=true" style="max-width: 3rem; height: auto; padding: 2px;" alt="Add Contact Entry icon">
                      </a>
                            </div>
                            </span>
                </div>
            </div>
            </li>
            <div class="schedule-service-box">
                <div class="section qrc_calltoaction qr_cc_card" style="align-items: center; justify-text: center;">
                    <div class="icon-and-text">
                        <span>
                    <center><img src="https://github.com/tommichael88/booktomnyc/blob/main/images/calendar.png?raw=true" style="max-width: 3.5rem; height: auto; align-items: center; position: relative;" alt="Service Calendar Icon"><br>
                      <font size="6vw"><b>SERVICE SCHEDULE</b><br></font>
                    </center>
                  </span>
                    </div>
                    <font size="6vw">
                        <center>
                            <div class="visit-box">
                                <a href="#manageBooking" class="manageBookingBtn" id="plannedvisit">
                                    <font color="#454545">Reschedule Visit</font>
                                </a>
                            </div>
                            <font color="#454545">
                            </font>
                        </center><br>
                        <font size="4vw">
                            <font color="gray">
                                <div><br>Book
                                    <b>New</b> Visit
                                    <font size="0.5vw" font="" color="black">
                                        <i>Check All Applicable</i>
                                    </font>

                                </div>
                                <p>
                                    <font size="4vw" ;="" font="" color="#252525">
                                    </font>
                                </p>
                                <div id="servicesChecklist">
                                    <font size="4vw" ;="" font="" color="#252525">
                                        <form>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="service1" name="services" value="Minor Home Repairs" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/6d028f9f-4ba7-4c66-a4c3-4cd15ee37159?source=easyshare">
                                                <span class="checkmark"></span>
                                                <label for="service1">
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/mhr_emoji.png?raw=true" style="width: 20px; height: auto;" alt="Minor Home Repairs icon">
                                <b>Minor Home Repairs</b> </label>
                                            </div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="service2" name="services" value="Furniture Fixes &amp; Assembly" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/e9a8281d-d940-4672-994d-fc847e9ae87c?source=easyshare">
                                                <span class="checkmark"></span>
                                                <label for="service2">
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/furniture_emoji.png?raw=true" style="width: 20px; height: auto;" alt="Furniture Fixes &amp; Assembly icon">
                                <b>Furniture Fixes</b> </label>
                                            </div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="service3" name="services" value="Wall Mounting" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/70f9cde5-a69e-4df9-9df9-9327fa46f91d?source=easyshare">
                                                <span class="checkmark"></span>
                                                <label for="service3">
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/wall_mounting_emoji.png?raw=true" style="width: 20px; height: auto;" alt="Wall Mounting icon">
                                <b>Wall Mounting</b> </label>
                                            </div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="service4" name="services" value="Electrical Help" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/d1d4439b-e925-4f95-8887-68b9a6293c63?source=easyshare">
                                                <span class="checkmark"></span>
                                                <label for="service4">
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/electrical_emoji.png?raw=true" style="width: 20px; height: auto;" alt="Electrical Help icon">
                                <b>Electrical Help</b> </label>
                                            </div>
                                            <div class="custom-checkbox">
                                                <input type="checkbox" id="service5" name="services" value="Plumbing Help" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/abf3610d-f11d-4c88-8fe0-202e9f083815?source=easyshare">
                                                <span class="checkmark"></span>
                                                <label for="service5">
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/plumbing_emoji.png?raw=true" style="width: 18px; height: auto;" alt="Plumbing Help icon">
                                <b>Plumbing Help</b> </label>
                                            </div>
                                        </form>
                                    </font>
                                    <div class="custom-checkbox">
                                        <font size="4vw" ;="" font="" color="#252525">
                                            <input type="checkbox" id="service6" name="services" value="Computer Tech Services" onchange="updateCheckedCategories(this)" data-setmore-url="https://booking.setmore.com/scheduleappointment/468d0d96-b028-46cd-a291-702f1464e4d6/services/37ee94a2-aabf-4235-99a8-4d12b16e26f5?source=easyshare">
                                            <span class="checkmark"></span>
                                            <label for="service6">
                              <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/service%20emojis/comp_tech_emoji.png?raw=true" style="width: 20px; height: auto;" alt="Computer Tech Services icon">
                              <b>Computer Repairs</b> </label>

                                        </font>
                                        <p></p>
                                    </div>
                                    <br>
                                    <div style="font-size: 1vw;">
                                        <div style="flex-direction: column; align-items: center; justify-content: center; padding: 10px;">
                                            <div id="chevron" style="font color=#991000; transform: rotate(-0deg); transition: transform 0.6s ease-in-out 0.2s; display: block;">
                                                <span id="chevronArrow" style="display: inline-block; transition: transform 0.6s ease-in-out 0s; transform: rotate(-90deg);">&nbsp;&nbsp;
                                <img src="https://github.com/tommichael88/booktomnyc/blob/main/images/724805.png?raw=true" style="width: 15px; height: auto;" alt="Chevron">
                              </span>
                                            </div>
                                        </div>
                                        <!-- <label for="furniture-select">IKEA Collection & Description</label>
 <select id="furniture-select">
 </select> -->
                                        <!-- Suggestions container with horizontal scrolling on overflow -->
                                        <div id="suggestionsContainer" style="margin-top: 12px; display: flex; overflow-x: auto; white-space: wrap;"></div>
                                        <div id="bookingDetails" style="display: none; position: relative;">
                                            <p><text><span>
                                  <font size=".5rem&quot;">
                                    <font color="#424848" font="" size="1.5vw"><b>Tap the boxes above for quick input (slide&nbsp;‚¨Ö&nbsp; for more options).</b></font>
                                  </font>
                                </span></text></p>
                                            <font size=".5rem&quot;">
                                                <textarea id="taskDescription" class="input-box" name="" rows="10" placeholder="ü§ñ Tap here to add or modify task details." style="border-width: 2px; border-style: solid; border-image: initial;"></textarea>
                                                <button id="zoomButton" class="zoom-btn">üîç</button>
                                                <center>
                                                    <button type="submit" id="submitButton" class="qrc_button" style="display: none;">
                                  <span id="buttonText" class="button-text"><b>BOOK HERE ‚òÖ &nbsp;</b>·∂ú·µí‚Åø·µó‚Å±‚Åø·µò·µâ&nbsp;‚èµ</span>
                                </button>
                                                </center>
                                            </font>
                                        </div>
                                        <font size=".5rem&quot;">

                                        </font>
                                    </div>
                                    <font size=".5rem&quot;">
                                    </font>
                                </div>

                                <!-- The Modal -->
                                <div id="taskModal" class="modal" style="display: none;">
                                    <!-- Modal content -->
                                    <div class="modal-content">
                                        <li><span>
                              <font color="gray">ü§ñ Type your task details here.</font><span class="close"><img src="https://tommichael88.github.io/booktomnyc/images/checkmark-png-25981.png?raw=true" alt="close checkmark" ;=""></span>Ô∏è
                                            <textarea id="modalTaskDescription" class="input-box" rows="10" style="border: 2px color: rgba(163, 0, 0, 0.9); max-height: 8vh auto; max-width: 8vw auto;"></textarea>
                                            <button type="submit" id="submitButton" class="qrc_button" style="display: block;">
                                <span id="buttonText" class="button-text"><b>BOOK HERE ‚òÖ &nbsp;</b>·∂ú·µí‚Åø·µó‚Å±‚Åø·µò·µâ&nbsp;‚èµ</span></button>
                                            </span>
                                        </li>
                                    </div>
                                </div>
                            </font>
                        </font>
                    </font>
                </div>
                <font size="6vw">
                    <font size="4vw">
                        <font color="gray">
                        </font>
                    </font>
                </font>
            </div>
            <font size="6vw">
                <font size="4vw">
                    <font color="gray">

                        <!-- MODAL SCRIPT -->
                        <script>
                            // Get the modal
                            var
                                modal =
                                document
                                .getElementById(
                                    "taskModal"
                                );
                            // Get the button that opens the modal
                            var
                                zoomBtn =
                                document
                                .getElementById(
                                    "zoomButton"
                                );
                            // Get the <span> element that closes the modal
                            var
                                closeSpan =
                                modal
                                .getElementsByClassName(
                                    "close"
                                )[
                                    0
                                ];
                            // Get the original and modal text input elements
                            var
                                originalTextInput =
                                document
                                .getElementById(
                                    "taskDescription"
                                );
                            var
                                modalTextInput =
                                document
                                .getElementById(
                                    "modalTaskDescription"
                                );
                            // Get the FAB element
                            var
                                fabButton =
                                document
                                .getElementById(
                                    "fabButton"
                                );
                            // When the user clicks the zoom button, open the modal and transfer content
                            zoomBtn
                                .onclick =
                                function() {
                                    modal
                                        .style
                                        .display =
                                        "block";
                                    modalTextInput
                                        .value =
                                        originalTextInput
                                        .value; // Transfer text to modal input
                                    fabButton
                                        .style
                                        .display =
                                        "none";
                                }
                            // When the user clicks on <span> (x), close the modal and transfer content back
                            closeSpan
                                .onclick =
                                function() {
                                    modal
                                        .style
                                        .display =
                                        "none";
                                    originalTextInput
                                        .value =
                                        modalTextInput
                                        .value; // Transfer updated text back to original input

                                }
                            // When the user clicks anywhere outside of the modal, close it and transfer content back
                            window
                                .onclick =
                                function(
                                    event
                                ) {
                                    if (
                                        event
                                        .target ==
                                        modal
                                    ) {
                                        modal
                                            .style
                                            .display =
                                            "none";
                                        originalTextInput
                                            .value =
                                            modalTextInput
                                            .value; // Transfer updated text back to original input
                                        fabButton
                                            .display =
                                            "relative";
                                    }
                                }
                            // Get the text input element
                            var
                                textInput =
                                document
                                .getElementById(
                                    "taskDescription"
                                );
                            // When the text input box is tapped by the user, open the modal
                            textInput
                                .addEventListener(
                                    "click",
                                    function() {
                                        modal
                                            .style
                                            .display =
                                            "block";
                                        // Transfer text to modal input if needed
                                        var
                                            modalTextInput =
                                            document
                                            .getElementById(
                                                "modalTaskDescription"
                                            );
                                        modalTextInput
                                            .value =
                                            textInput
                                            .value;
                                        fabButton
                                            .style
                                            .display =
                                            "none";
                                        // Update other elements as necessary
                                        // For example, you might hide or show other elements, update their content, etc.
                                    }
                                );
                        </script>

                    </font>
                </font>
            </font>
            <div>
                <font size="6vw">
                    <font size="4vw">
                        <font color="gray">
                            <!-- <span><div style="width:100%; height:100vh;"><iframe src="https://booktom.setmore.com" style="border:none;" scrolling="auto" width="100%" height="100%"></iframe></div></span>													-->
                            <!-- Client Portal Section -->
                            <div>
                                <div class="invoice-box">
                                    <div class="qrc_heading ">
                                        <h3>
                                            <font color="navy">
                                                <img src="https://raw.githubusercontent.com/tommichael88/booktomnyc/main/images/zohoinvoice_favicon.ico" alt="Zoho Invoice favicon"><br>
                                                <font size="6 rem"><b>INVOICES</b> </font>
                                            </font>
                                        </h3>
                                        <font color="silver">view invoices ‚Ä¢ process payments ‚Ä¢ digital receipts ‚Ä¢ review quote estimates ‚Ä¢ share documents ‚Ä¢ transaction history ‚Ä¢ expense receipts
                                        </font><br><br>
                                        <div>
                                            <span id="buttonText" class="button-text">
                              <a rel="nofollow noopener noreferrer" href="https://invoice.zoho.com/portal/booktomnyc" class="qrc_button">
                                üîê
                                ùóñùóüùóúùóòùó°ùóß
                                ùóüùó¢ùóöùóúùó°
                              </a>
                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div><br><br>
                            <font color="silver"></font>
                        </font>
                    </font>
                </font>

                <br>

                <!--<button type="button" id="instantEstimatesButton" class="instant-estimates-btn" style="display: none; position: 10px;">‚òëÔ∏è <i>Instant</i><b>Estimate</b></font></button></p></span></div>
                                        </div>-->
                <footer> <span>
                  <div class="footer-content">
                    <center>
                      <font color="silver">
                        <font size="2vw"><a href="https://tommichael88.github.io/booktomnyc/PrivacyPolicy" class="small-font">&nbsp;Privacy Policy&nbsp;</a> | <a href="https://tommichael88.github.io/booktomnyc/SOW" class="small-font">&nbsp;Service Scope&nbsp;</a> | <a href="https://tommichael88.github.io/booktomnyc/ServiceAgreement" class="small-font">&nbsp;Service Agreement&nbsp;</a></font>
                      </font>
                    </center>
                  </div>
                </span>
                </footer>
                </font>
            </div>
            </ul>
        </div>
    </div>
    </div>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
                    const serviceCheckboxes = document.querySelectorAll('.custom-checkbox input[type="checkbox"]');
                    const suggestionsContainer = document.getElementById('suggestionsContainer');
                    // Add event listeners to checkboxes
                    serviceCheckboxes.forEach(checkbox => {
                        checkbox.addEventListener('change', function() {
                            updateCheckedCategories(this); // Pass the checkbox element to the function

                        });
                    });

                    const taskDescription = document.getElementById('taskDescription');
                    const submitButton = document.getElementById('submitButton');
                    const chevron = document.getElementById('chevronArrow');
                    const bookingDetails = document.getElementById('bookingDetails');
                    let selectedServices = [];
                    let checkedCategories = []; // Array to keep track of checked categories in order
                    const categoryToServices = {
                        "service1": ["Appliances Hourly Service Rate", "Door Handles & Locks Installation", "Furniture Repair Hourly Service Rate", "Hollow Door Repair", "Wall Repair - Patch & Paint"],
                        "service3": ["Frame/Shelf Mounting Hourly Service Rate", "TV Mounting (Under 60\") + Concealed Cables", "TV Mounting (Under 60\") without cable management", "Curtains/Drapes w. Single Rod Installation"],
                        "service6": ["Data Transfer / Data Back-Up", "Part Replacement/Upgrade", "PC Diagnostic Service", "Software Install/Update/Removal (4)", "System Restore", "Virus/Malware Removal"],
                        "service4": ["Light Fixture Swap"],
                        "service2": ["Furniture Assembly Hourly Service Rate", "Furniture Repair Hourly Service Rate"],
                        "service5": ["Bidet Accessory Install/Removal", "Fixture Swap (Cosmetic)", "Leak Under Sink Repair", "Unclog Sink/Shower/Toilet (Minor)"]
                    };
                    const targetedSuggestions = {
                        "Appliances Hourly Service Rate": ["Refrigerator Repair", "Washing Machine Repair", "Dryer Repair", "Dishwasher Repair", "Oven Repair", "Stove Repair", "Microwave Repair", "Garbage Disposal Repair", "Freezer Repair",
                            "Ice Maker Repair", "Range Hood Repair", "Wine Cooler Repair", "Trash Compactor Repair"
                        ],
                        "Door Handles & Locks Installation": ["Electronic Lock Installation", "Deadbolt Replacement", "Knob Handle Installation", "Ring or Blink Doorbell Install", "Smart Lock Installation", "Keyless Entry System Setup", "Rekeying Locks", "Door Handle Repair", "Security Door Installation", "Key Duplication Service", "Peephole Installation", "Door Reinforcement Installation", "Lock Maintenance Service", "Emergency Lockout Assistance"],
                        "Wall Repair - Patch & Paint": ["Small hole (e.g., nail or screw)", "Large hole (e.g., fist-sized)", "Crack Repair", "Textured Wall Patching", "Drywall Replacement"],
                        "TV Mounting (Under 60\") + Concealed Cables": ["TV Size Under 20 inches", "TV Size 32 inches", "TV Size 42 inches", "TV Size 50 inches", "TV Size 50+ inches", "Soundbar Installation", "Cable Management Solutions", "Remote Control Setup"],
                        "Leak Under Sink Repair": ["Pipe Replacement", "Sealant Application", "Faucet Repair", "Sink Drain Replacement", "Under-Sink Filter Installation"],
                        "Virus/Malware Removal": ["Slow Performance Cleanup", "Pop-up Ad Removal", "Security Software Installation", "Data Backup and Recovery", "Firewall Configuration"],
                        "Frame/Shelf Mounting Hourly Service Rate": ["Picture Frame Mounting", "Floating Shelf Installation", "Bookshelf Mounting", "Mirror Hanging", "Artwork Installation"],
                        "Light Fixture Swap": ["Ceiling Light Fixture Replacement", "Wall Sconce Installation", "Chandelier Installation", "Recessed Lighting Installation", "Track Lighting Installation"],
                        "Bidet Accessory Install/Removal": ["Bidet Seat Installation", "Bidet Attachment Installation", "Bidet Seat Removal", "Water Pressure Adjustment", "Temperature Control Setup"],
                        "Fixture Swap (Cosmetic)": ["Faucet Replacement", "Light Switch Replacement", "Showerhead Replacement", "Toilet Seat Replacement", "Towel Rack Installation"],
                        "Unclog Sink/Shower/Toilet (Minor)": ["Sink Unclogging", "Shower Drain Unclogging", "Toilet Unclogging", "Plunger and Auger Service", "Drain Cleaning Solution Application"],
                        "Data Transfer / Data Back-Up": ["Data Transfer to New Device", "Data Backup on External Drive", "Cloud Backup Setup", "Data Encryption Service", "Scheduled Backup Configuration"],
                        "Part Replacement/Upgrade": ["RAM Upgrade", "Hard Drive Replacement", "Graphics Card Installation", "CPU Cooling System Installation", "Motherboard Replacement"],
                        "PC Diagnostic Service": ["Performance Check", "Hardware Diagnostic", "Software Diagnostic", "Temperature Monitoring Service", "Network Connectivity Test"],
                        "Software Install/Update/Removal (4)": ["Operating System Update", "Application Installation", "Software Uninstallation", "Driver Update Service", "Registry Cleanup"],
                        "System Restore": ["Operating System Rollback", "Data Recovery", "System Backup Restoration", "Factory Reset Service", "Boot Repair"],
                        "Furniture Assembly Hourly Service Rate": ["IKEA", "NOT IKEA", "Office Furniture Assembly", "Outdoor Furniture Assembly", "Custom Furniture Assembly"]
                    };
                    const dropdownOptionsForFurnitureAssembly = {
                        "Furniture Assembly Hourly Service Rate": ["Furniture Assembly: Shoe rack", "Furniture Assembly: Side table", "Furniture Assembly: Lamp table", "Furniture Assembly: Laundry hamper", "Furniture Assembly: Footstool", "Furniture Assembly: Dining table (extendable)", "Furniture Assembly: Coffee table", "Furniture Assembly: TV stand", "Furniture Assembly: Console table", "Furniture Assembly: Desk (small/medium)", "Furniture Assembly: Desk (large)", "Furniture Assembly: Bookcase (small/medium)", "Furniture Assembly: Bookcase (large)", "Furniture Assembly: Chest of drawers (small/medium)", "Furniture Assembly: Chest of drawers (large 6+ Drawers)", "Furniture Assembly: Wardrobe (small/medium)", "Furniture Assembly: Wardrobe (large)", "Furniture Assembly: Bed frame", "Furniture Assembly: Sofa bed", "Furniture Assembly: Kitchen cabinets", "Furniture Assembly: OTHER/NOT LISTED"
                            Furniture Assembly " ]
                        };


                        function appendServiceToTextInput(service) {
                            if (!taskDescription.value.includes(service)) {
                                taskDescription.value += (taskDescription.value ? "; " : "") + service;
                                updateTextInputAppearance();
                            }
                        }

                        function toggleBookingDetails(show) {
                            bookingDetails.style.display = show ? 'block' : 'none';
                            chevron.style.transform = show ? 'rotate(90deg)' : 'rotate(-90deg)';
                        }

                        function isAnyCategoryChecked() {
                            return checkedCategories.length > 0;
                        }

                        function updateTextInputAppearance() {
                            taskDescription.style.borderColor = taskDescription.value.trim() !== '' ? 'red' : '';
                            submitButton.style.display = taskDescription.value.trim() !== '' ? 'block' : 'none';
                        }

                        function updateTextInput() {
                            taskDescription.value = selectedServices.join('; ');
                            updateTextInputAppearance();
                        }

                        function showSuggestions(specificService = '') {
                            suggestionsContainer.innerHTML = '';
                            let servicesToShow = [];

                            if (specificService && targetedSuggestions[specificService]) {
                                servicesToShow = targetedSuggestions[specificService];
                            } else {
                                checkedCategories.slice().reverse().forEach(categoryId => {
                                    if (categoryToServices[categoryId]) {
                                        servicesToShow = servicesToShow.concat(categoryToServices[categoryId]);
                                    }
                                });
                            }

                            servicesToShow.forEach(service => {
                                const button = createSuggestionButton(service, specificService);
                                suggestionsContainer.appendChild(button);
                            });

                            // Clear the text input box if no categories are checked
                            if (!isAnyCategoryChecked() && specificService === '') {
                                taskDescription.value = '';
                            }

                            toggleBookingDetails(isAnyCategoryChecked() || specificService);
                        }

                        function createSuggestionButton(service, specificService) {
                            const button = document.createElement('button');
                            button.textContent = service;
                            button.className = 'suggestion-btn';
                            button.setAttribute('data-service', service);
                            button.onclick = () => {
                                if (dropdownOptionsForFurnitureAssembly[service]) {
                                    showDropdown(service);
                                } else {
                                    appendServiceToTextInput(service);
                                    if (!specificService || specificService && targetedSuggestions[service]) {
                                        showSuggestions(service);
                                    } else {
                                        showSuggestions();
                                    }
                                }
                            };
                            return button;
                        }

                        function updateCheckedCategories(checkbox) {
                            const index = checkedCategories.indexOf(checkbox.id);
                            if (checkbox.checked && index === -1) {
                                checkedCategories.push(checkbox.id);
                                const associatedServices = getAllAssociatedServices(checkbox.id);
                                selectedServices.push(...associatedServices);
                            } else if (!checkbox.checked && index !== -1) {
                                checkedCategories.splice(index, 1);
                                const associatedServices = getAllAssociatedServices(checkbox.id);
                                associatedServices.forEach(service => {
                                    removeServiceFromTextInput(service); // Remove associated services when category is unchecked
                                    const serviceIndex = selectedServices.indexOf(service);
                                    if (serviceIndex !== -1) {
                                        selectedServices.splice(serviceIndex, 1);
                                    }
                                });
                            }
                        }

                        function showDropdown(service) {
                            let existingDropdown = document.getElementById('dropdownContainer');
                            if (existingDropdown) {
                                existingDropdown.remove();
                            }
                            let dropdownContainer = document.createElement('div');
                            dropdownContainer.id = 'dropdownContainer';
                            dropdownContainer.className = 'dropdown-container';
                            let dropdownLabel = document.createElement('label');
                            dropdownLabel.textContent = 'Select Furniture Type:';
                            dropdownLabel.className = 'dropdown-label';
                            dropdownContainer.appendChild(dropdownLabel);
                            let dropdown = document.createElement('select');
                            dropdown.id = 'dynamicDropdown';
                            dropdown.className = 'dynamic-dropdown';
                            dropdownContainer.appendChild(dropdown);
                            let defaultOption = document.createElement('option');
                            defaultOption.textContent = "Select an option";
                            defaultOption.disabled = true;
                            defaultOption.selected = true;
                            dropdown.appendChild(defaultOption);
                            let options = dropdownOptionsForFurnitureAssembly[service];
                            options.forEach(option => {
                                let optionElement = document.createElement('option');
                                optionElement.textContent = option;
                                optionElement.value = option;
                                dropdown.appendChild(optionElement);
                            });
                            dropdown.addEventListener('change', function() {
                                if (this.value) {
                                    taskDescription.value += (taskDescription.value ? "; " : "") + this.value;
                                    dropdownContainer.remove();
                                }
                            });
                            taskDescription.before(dropdownContainer);
                        }
                        serviceCheckboxes.forEach(checkbox => {
                            checkbox.addEventListener('change', () => {
                                updateCheckedCategories(checkbox);
                                showSuggestions();
                                updateTextInputAppearance();
                            });
                        });
                        const furnitureSelect = document.getElementById('furniture-select');
                        const furnitureOptions = [{
                            category: "BEKANT",
                            items: ["Desk with underframe"]
                        }, {
                            category: "BESTA",
                            items: ["Single frame, shelves, floor standing", "Single frame, door / drawer, floor standing", "Single frame, wall mounting"]
                        }, {
                            category: "BILLY",
                            items: ["Bookcase one frame"]
                        }, {
                            category: "BJURSTA",
                            items: ["Extendable table"]
                        }, {
                            category: "BRIMNES",
                            items: ["Bed frame", "2 drawer chest", "3 drawer chest", "4 drawer chest", "Bed frame with storage", "Headboard", "Wardrobe with 2 doors", "Wardrobe with 3 doors", "Nightstand", "Daybed with 2 drawers"]
                        }, {
                            category: "BRUSALI",
                            items: ["Bed frame", "Bed with 4 storage boxes", "3 drawer chest", "Nightstand"]
                        }, {
                            category: "FINGAL",
                            items: ["Swivel chair"]
                        }, {
                            category: "FRIHETEN",
                            items: ["Sofa bed with chaise"]
                        }, {
                            category: "GALANT",
                            items: ["2 drawer unit", "3 drawer unit", "4 drawer unit", "Cabinet with sliding doors"]
                        }, {
                            category: "HEMNES",
                            items: ["Bed frame", "2 drawer chest", "3 drawer chest", "6 drawer chest", "8 drawer dresser", "Nightstand", "Daybed with 3 drawers"]
                        }, {
                            category: "KALLAX",
                            items: ["Shelving unit 5x5", "Shelving unit 4x4", "Shelving unit 2x4", "Shelving unit 1x4", "Shelving unit 2x2", "Insert with 2 drawers", "Insert with door"]
                        }, {
                            category: "LACK",
                            items: ["Side table", "Coffe table", "TV Unit"]
                        }, {
                            category: "LINNMON ADILS",
                            items: ["Table (table top and four legs)"]
                        }, {
                            category: "MALM",
                            items: ["Bed Frame", "Bed Frame with 4 Storage boxes", "2 Drawer Chest", "3 Drawer Chest", "4 Drawer Chest", "6 Drawer Chest", "6 Drawer Dresser", "Lift bed"]
                        }, {
                            category: "MICKE",
                            items: ["Desk with 1 Drawer", "Desk with Drawers & Storage", "Add-on unit"]
                        }, {
                            category: "MORVIK",
                            items: ["Wardrobe"]
                        }, {
                            category: "PAX",
                            items: ["One frame, hinged doors, up to 3 addons", "Two frames, sliding doors, up to 5 addons"]
                        }, {
                            category: "SODERHAMN",
                            items: ["Sofa one seat section with cover"]
                        }, {
                            category: "TRYSIL",
                            items: ["Bed Frame", "3 Drawer Chest", "Nightstand", "Wardrobe"]
                        }, {
                            category: "OTHER NOT LISTED",
                            items: ["NOT LISTED or UNKNOWN"]
                        }];

                        function populateFurnitureSelect() {
                            furnitureOptions.forEach(option => {
                                let optgroup = document.createElement('optgroup');
                                optgroup.label = option.category;
                                option.items.forEach(item => {
                                    let optionElement = document.createElement('option');
                                    optionElement.textContent = item;
                                    optionElement.value = item;
                                    optgroup.appendChild(optionElement);
                                });
                                furnitureSelect.appendChild(optgroup);
                            });
                        }
                        populateFurnitureSelect();
                        const addFurnitureButton = document.getElementById('addFurnitureButton');
                        const selectedFurnitureList = document.getElementById('selectedFurnitureList');
                        addFurnitureButton.addEventListener('click', () => {
                            const selectedOption = furnitureSelect.options[furnitureSelect.selectedIndex];
                            if (selectedOption) {
                                const selectedItem = selectedOption.textContent;
                                if (!selectedFurnitureList.textContent.includes(selectedItem)) {
                                    const listItem = document.createElement('li');
                                    listItem.textContent = selectedItem;
                                    selectedFurnitureList.appendChild(listItem);
                                    taskDescription.value += (taskDescription.value ? "; " : "") + selectedItem;
                                    updateTextInputAppearance();
                                }
                            }
                        });
                        const removeAllFurnitureButton = document.getElementById('removeAllFurnitureButton');
                        removeAllFurnitureButton.addEventListener('click', () => {
                            selectedFurnitureList.innerHTML = '';
                            taskDescription.value = taskDescription.value.replace(/(Desk with underframe|Single frame, shelves, floor standing|Single frame, door \/ drawer, floor standing|Single frame, wall mounting|Bookcase one frame|Extendable table|Bed frame|2 drawer chest|3 drawer chest|4 drawer chest|Bed frame with storage|Headboard|Wardrobe with 2 doors|Wardrobe with 3 doors|Nightstand|Daybed with 2 drawers);?/g, '');
                            updateTextInputAppearance();
                        });
                        const removeAllServicesButton = document.getElementById('removeAllServicesButton');
                        removeAllServicesButton.addEventListener('click', () => {
                            taskDescription.value = '';
                            selectedFurnitureList.innerHTML = '';
                            checkedCategories = [];
                            serviceCheckboxes.forEach(checkbox => {
                                checkbox.checked = false;
                            });
                            updateTextInputAppearance();
                            showSuggestions();
                            toggleBookingDetails(false);
                        });
                        const chevronContainer = document.getElementById('chevronContainer');
                        chevronContainer.addEventListener('click', () => {
                            toggleBookingDetails(bookingDetails.style.display === 'none');
                        });

                        function copyTaskDescription() {
                            const el = document.createElement('textarea');
                            el.value = taskDescription.value;
                            document.body.appendChild(el);
                            el.select();
                            document.execCommand('copy');
                            document.body.removeChild(el);
                            alert('Copied to clipboard!');
                        }
                        const copyButton = document.getElementById('copyButton');
                        copyButton.addEventListener('click', copyTaskDescription);
                    });
    </script>
</body>

</html>
